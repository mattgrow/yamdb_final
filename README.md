# Учебный проект yamdb_final

### Ссылка на проект

http://51.250.78.74/admin

#### Бэйдж

https://github.com/mattgrow/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg

### Краткое описание проекта

Проект представляет из себя админку, развернутую в 3 docker-контейнерах: nginx, БД и веб-приложение. Созданный в рамках проекта workflow позволяет автоматически проверять исправленный код (flake8 + pytest), обновлять image web в docker hub, загружать обновленный image web на продуктивный сервер и отправлять уведомление в телеграмм канал о том, что все операции завершились успешно.

### Описание процесса работы с кодом

Для внесения изменений в проект и автоматического развертывания проекта на продуктивном сервере выполните следующие действия:

1. Клонируйте проект с github (локально и в том числе в свой github)

2. Откройте проект в редакторе кода и установите виртуальное окружение
``` python -m venv venv ```

3. Активируйте виртуальное окружение
``` . venv/Scripts/Activate ```

4. Установите зависимости
``` cd api_yamdb/ ```
``` pip install -r requirements.txt ```

5. Отредактируйте код по необходимости

6. Для развертывания проекта на продуктивном сервере отредактируйте файлы yamdb_workflow.yml, Dockerfile, docker-compose.yaml по необходимости, в том числе добавьте переменные, являющиеся информацией ограниченного доступа, в secrets репозитория проекта на github. Скопируйте файлы docker-compose.yaml и каталог nginx/ в каталог /home/<username>/ на своем продуктивном сервере

7. Выполните push кода
``` git add . ```
``` git commit -m 'комментарий' ```
``` git push ```

8. Убедитесь, что вам пришло уведомление в телеграмм о корректной заливке кода на продуктивный сервер

9. На продуктивном сервере выполните миграции, команду создания суперпользователя, сбор статики:

``` docker-compose exec web python manage.py migrate ```
``` docker-compose exec web python manage.py createsuperuser ```
``` docker-compose exec web python manage.py collectstatic --no-input ```

### Автор

Сергей Беспалов
